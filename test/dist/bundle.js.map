{"version":3,"file":"bundle.js","sources":["../../node_modules/deep-equal/lib/keys.js","../../node_modules/deep-equal/lib/is_arguments.js","../../node_modules/deep-equal/index.js","../../node_modules/zora/lib/assertions.js","../../node_modules/zora/lib/test.js","../../node_modules/zora/lib/tap.js","../../node_modules/zora/lib/combinators.js","../../node_modules/zora/index.js","../../lib/h.js","../../node_modules/smart-table-operators/index.js","../../lib/util.js","../../lib/dom-util.js","../../lib/traverse.js","../../lib/dom-renderer.js","../../lib/update.js","../../lib/lifecycles.js","../../lib/connect.js","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/redux/es/createStore.js","../../node_modules/redux/es/utils/warning.js","../../node_modules/redux/es/compose.js","../../node_modules/redux/es/index.js","../test-util.js","../connect.js","../dom-util.js","../../lib/with-state.js","../../lib/hdom.js","../../lib/string-renderer.js","../h.js","../lifecycles.js","../render.js","../update.js","../util.js","../with-state.js","../render-as-string.js"],"sourcesContent":["exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","import deepEqual from 'deep-equal';\n\nconst getAssertionLocation = () => {\n\tconst err = new Error();\n\tconst stack = (err.stack || '').split('\\n');\n\treturn (stack[3] || '').trim().replace(/^at/i, '');\n};\n\nconst assertMethodHook = fn => function (...args) {\n\tconst assertResult = fn(...args);\n\n\tif (assertResult.pass === false) {\n\t\tassertResult.at = getAssertionLocation();\n\t}\n\n\tthis.collect(assertResult);\n\treturn assertResult;\n};\n\nconst Assertion = {\n\tok: assertMethodHook((val, description = 'should be truthy') => ({\n\t\tpass: Boolean(val),\n\t\tactual: val,\n\t\texpected: true,\n\t\tdescription,\n\t\toperator: 'ok'\n\t})),\n\tdeepEqual: assertMethodHook((actual, expected, description = 'should be equivalent') => ({\n\t\tpass: deepEqual(actual, expected),\n\t\tactual,\n\t\texpected,\n\t\tdescription,\n\t\toperator: 'deepEqual'\n\t})),\n\tequal: assertMethodHook((actual, expected, description = 'should be equal') => ({\n\t\tpass: actual === expected,\n\t\tactual,\n\t\texpected,\n\t\tdescription,\n\t\toperator: 'equal'\n\t})),\n\tnotOk: assertMethodHook((val, description = 'should not be truthy') => ({\n\t\tpass: !val,\n\t\texpected: false,\n\t\tactual: val,\n\t\tdescription,\n\t\toperator: 'notOk'\n\t})),\n\tnotDeepEqual: assertMethodHook((actual, expected, description = 'should not be equivalent') => ({\n\t\tpass: !deepEqual(actual, expected),\n\t\tactual,\n\t\texpected,\n\t\tdescription,\n\t\toperator: 'notDeepEqual'\n\t})),\n\tnotEqual: assertMethodHook((actual, expected, description = 'should not be equal') => ({\n\t\tpass: actual !== expected,\n\t\tactual,\n\t\texpected,\n\t\tdescription,\n\t\toperator: 'notEqual'\n\t})),\n\tthrows: assertMethodHook((func, expected, description) => {\n\t\tlet caught;\n\t\tlet pass;\n\t\tlet actual;\n\t\tif (typeof expected === 'string') {\n\t\t\t[expected, description] = [description, expected];\n\t\t}\n\t\ttry {\n\t\t\tfunc();\n\t\t} catch (err) {\n\t\t\tcaught = {error: err};\n\t\t}\n\t\tpass = caught !== undefined;\n\t\tactual = caught && caught.error;\n\t\tif (expected instanceof RegExp) {\n\t\t\tpass = expected.test(actual) || expected.test(actual && actual.message);\n\t\t\texpected = String(expected);\n\t\t} else if (typeof expected === 'function' && caught) {\n\t\t\tpass = actual instanceof expected;\n\t\t\tactual = actual.constructor;\n\t\t}\n\t\treturn {\n\t\t\tpass,\n\t\t\texpected,\n\t\t\tactual,\n\t\t\toperator: 'throws',\n\t\t\tdescription: description || 'should throw'\n\t\t};\n\t}),\n\tdoesNotThrow: assertMethodHook((func, expected, description) => {\n\t\tlet caught;\n\t\tif (typeof expected === 'string') {\n\t\t\t[expected, description] = [description, expected];\n\t\t}\n\t\ttry {\n\t\t\tfunc();\n\t\t} catch (err) {\n\t\t\tcaught = {error: err};\n\t\t}\n\t\treturn {\n\t\t\tpass: caught === undefined,\n\t\t\texpected: 'no thrown error',\n\t\t\tactual: caught && caught.error,\n\t\t\toperator: 'doesNotThrow',\n\t\t\tdescription: description || 'should not throw'\n\t\t};\n\t}),\n\tfail: assertMethodHook((description = 'fail called') => ({\n\t\tpass: false,\n\t\tactual: 'fail called',\n\t\texpected: 'fail not called',\n\t\tdescription,\n\t\toperator: 'fail'\n\t}))\n};\n\nexport default (collect, test) => Object.assign(\n\tObject.create(Assertion, {collect: {value: collect}}), {\n\t\tasync test(description, spec) {\n\t\t\t// Note: we return the task so the caller can control whether he wants to wait for the sub test to complete or not\n\t\t\treturn test(description, spec).task;\n\t\t}\n\t});\n","import assert from './assertions';\n\nconst tester = (collect, {offset = 0} = {}) => (description, spec) => {\n\tconst buffer = [{type: 'title', data: description, offset}];\n\tconst result = {count: 0, pass: true, description, spec};\n\tlet done = false;\n\n\tconst createAssertion = item => {\n\t\tresult.pass = result.pass && item.pass;\n\t\treturn {type: 'assert', data: item, offset};\n\t};\n\n\tconst collector = item => {\n\t\tresult.count++;\n\t\titem.id = result.count;\n\t\tif (item[Symbol.asyncIterator] === undefined) {\n\t\t\t// Assertion\n\t\t\tbuffer.push(createAssertion(item));\n\t\t} else {\n\t\t\t// Sub test\n\t\t\tbuffer.push(item);\n\t\t}\n\t};\n\n\tconst handleDelegate = async delegate => {\n\t\tconst {value, done} = await delegate.next();\n\n\t\t// Delegate is exhausted: create a summary test point in the stream and throw the delegate\n\t\tif (done === true) {\n\t\t\tconst {executionTime, pass, description} = value;\n\t\t\tconst subTestAssertion = Object.assign(createAssertion({\n\t\t\t\tpass,\n\t\t\t\tdescription,\n\t\t\t\tid: delegate.id,\n\t\t\t\texecutionTime\n\t\t\t}), {type: 'testAssert'});\n\t\t\tbuffer.shift();\n\t\t\tbuffer.unshift(subTestAssertion);\n\t\t\treturn instance.next();\n\t\t}\n\t\treturn {value, done};\n\t};\n\n\tconst subTest = tester(collector, {offset: offset + 1});\n\n\tconst start = Date.now();\n\t// Execute the test collecting assertions\n\tconst assertFn = assert(collector, subTest);\n\tconst task = new Promise(resolve => resolve(spec(assertFn)))\n\t\t.then(() => {\n\t\t\t// Always report a plan and summary: the calling test will know how to deal with it\n\t\t\tresult.executionTime = Date.now() - start;\n\t\t\tbuffer.push({type: 'plan', data: {start: 1, end: result.count}, offset});\n\t\t\tbuffer.push({type: 'time', data: result.executionTime, offset});\n\t\t\tdone = true;\n\t\t\treturn result;\n\t\t})\n\t\t.catch(err => {\n\t\t\t// We report a failing test before bail out ... while unhandled promise rejection is still allowed by nodejs...\n\t\t\tbuffer.push({type: 'assert', data: {pass: false, description}});\n\t\t\tbuffer.push({type: 'comment', data: 'Unhandled exception'});\n\t\t\tbuffer.push({type: 'bailout', data: err, offset});\n\t\t\tdone = true;\n\t\t});\n\n\tconst instance = {\n\t\ttest: subTest,\n\t\ttask,\n\t\t[Symbol.asyncIterator]() {\n\t\t\treturn this;\n\t\t},\n\t\tasync next() {\n\t\t\tif (buffer.length === 0) {\n\t\t\t\tif (done === true) {\n\t\t\t\t\treturn {done: true, value: result};\n\t\t\t\t}\n\t\t\t\t// Flush\n\t\t\t\tawait task;\n\t\t\t\treturn this.next();\n\t\t\t}\n\n\t\t\tconst next = buffer[0];\n\n\t\t\t// Delegate if sub test\n\t\t\tif (next[Symbol.asyncIterator] !== undefined) {\n\t\t\t\treturn handleDelegate(next);\n\t\t\t}\n\n\t\t\treturn {value: buffer.shift(), done: false};\n\t\t}\n\t};\n\n\t// Collection by the calling test\n\tcollect(instance);\n\n\treturn instance;\n};\n\nexport default tester;\n","const print = (message, offset = 0) => {\n\tconsole.log(message.padStart(message.length + (offset * 4))); // 4 white space used as indent (see tap-parser)\n};\n\nconst toYaml = print => (obj, offset = 0) => {\n\tfor (const [prop, value] of Object.entries(obj)) {\n\t\tprint(`${prop}: ${JSON.stringify(value)}`, offset + 0.5);\n\t}\n};\n\nconst tap = print => {\n\tconst yaml = toYaml(print);\n\treturn {\n\t\tversion(version = 13) {\n\t\t\tprint(`TAP version ${version}`);\n\t\t},\n\t\ttitle(value, offset = 0) {\n\t\t\tconst message = offset > 0 ? `Subtest: ${value}` : value;\n\t\t\tthis.comment(message, offset);\n\t\t},\n\t\tassert(value, offset = 0) {\n\t\t\tconst {pass, description, id, executionTime, expected = '', actual = '', at = '', operator = ''} = value;\n\t\t\tconst label = pass === true ? 'ok' : 'not ok';\n\t\t\tprint(`${label} ${id} - ${description}${executionTime ? ` # time=${executionTime}ms` : ''}`, offset);\n\t\t\tif (pass === false && value.operator) {\n\t\t\t\tprint('---', offset + 0.5);\n\t\t\t\tyaml({expected, actual, at, operator}, offset);\n\t\t\t\tprint('...', offset + 0.5);\n\t\t\t}\n\t\t},\n\t\tplan(value, offset = 0) {\n\t\t\tprint(`1..${value.end}`, offset);\n\t\t},\n\t\ttime(value, offset = 0) {\n\t\t\tthis.comment(`time=${value}ms`, offset);\n\t\t},\n\t\tcomment(value, offset = 0) {\n\t\t\tprint(`# ${value}`, offset);\n\t\t},\n\t\tbailout(value = 'Unhandled exception') {\n\t\t\tprint(`Bail out! ${value}`);\n\t\t},\n\t\ttestAssert(value, offset = 0) {\n\t\t\treturn this.assert(value, offset);\n\t\t}\n\t};\n};\n\nexport default (printFn = print) => {\n\tconst reporter = tap(printFn);\n\treturn (toPrint = {}) => {\n\t\tconst {data, type, offset = 0} = toPrint;\n\t\tif (typeof reporter[type] === 'function') {\n\t\t\treporter[type](data, offset);\n\t\t}\n\t\t// Else ignore (unknown message type)\n\t};\n};\n","// Some combinators for asynchronous iterators: this will be way more easier when\n// Async generator are widely supported\n\nconst asyncIterator = behavior => Object.assign({\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n}, behavior);\n\nexport const filter = predicate => iterator => asyncIterator({\n\tasync next() {\n\t\tconst {done, value} = await iterator.next();\n\n\t\tif (done === true) {\n\t\t\treturn {done};\n\t\t}\n\n\t\tif (!predicate(value)) {\n\t\t\treturn this.next();\n\t\t}\n\n\t\treturn {done, value};\n\t}\n});\n\nexport const map = mapFn => iterator => asyncIterator({\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t},\n\tasync next() {\n\t\tconst {done, value} = await iterator.next();\n\t\tif (done === true) {\n\t\t\treturn {done};\n\t\t}\n\t\treturn {done, value: mapFn(value)};\n\t}\n});\n\nexport const stream = asyncIterator => Object.assign(asyncIterator, {\n\tmap(fn) {\n\t\treturn stream(map(fn)(asyncIterator));\n\t},\n\tfilter(fn) {\n\t\treturn stream(filter(fn)(asyncIterator));\n\t}\n});\n\nexport const combine = (...iterators) => {\n\tconst [...pending] = iterators;\n\tlet current = pending.shift();\n\n\treturn asyncIterator({\n\t\tasync next() {\n\t\t\tif (current === undefined) {\n\t\t\t\treturn {done: true};\n\t\t\t}\n\n\t\t\tconst {done, value} = await current.next();\n\n\t\t\tif (done === true) {\n\t\t\t\tcurrent = pending.shift();\n\t\t\t\treturn this.next();\n\t\t\t}\n\n\t\t\treturn {done, value};\n\t\t}\n\t});\n};\n","import tester from './lib/test';\nimport tap from './lib/tap';\nimport {combine, stream} from './lib/combinators';\n\nlet flatten = true;\nconst tests = [];\nconst test = tester(t => tests.push(t));\n\n// Provide a root context for BSD style test suite\nconst subTest = (test('Root', () => {})).test;\ntest.test = (description, spec) => {\n\tflatten = false; // Turn reporter into BSD style\n\treturn subTest(description, spec);\n};\n\nconst start = async ({reporter = tap()} = {}) => {\n\tlet count = 0;\n\tlet failure = 0;\n\treporter({type: 'version', data: 13});\n\n\t// Remove the irrelevant root title\n\tawait tests[0].next();\n\n\tlet outputStream = stream(combine(...tests));\n\toutputStream = flatten ? outputStream\n\t\t.filter(({type}) => type !== 'testAssert')\n\t\t.map(item => Object.assign(item, {offset: 0})) :\n\t\toutputStream;\n\n\tconst filterOutAtRootLevel = ['plan', 'time'];\n\toutputStream = outputStream\n\t\t.filter(item => item.offset > 0 || !filterOutAtRootLevel.includes(item.type))\n\t\t.map(item => {\n\t\t\tif (item.offset > 0 || (item.type !== 'assert' && item.type !== 'testAssert')) {\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\tcount++;\n\t\t\titem.data.id = count;\n\t\t\tfailure += item.data.pass ? 0 : 1;\n\t\t\treturn item;\n\t\t});\n\n\t// One day with for await loops ... :) !\n\twhile (true) {\n\t\tconst {done, value} = await outputStream.next();\n\n\t\tif (done === true) {\n\t\t\tbreak;\n\t\t}\n\n\t\treporter(value);\n\n\t\tif (value.type === 'bailout') {\n\t\t\tthrow value.data; // Rethrow but with Nodejs we keep getting the deprecation warning (unhandled promise) and the process exists with 0 exit code...\n\t\t}\n\t}\n\n\treporter({type: 'plan', data: {start: 1, end: count}});\n\treporter({type: 'comment', data: failure > 0 ? `failed ${failure} of ${count} tests` : 'ok'});\n};\n\n// Auto bootstrap following async env vs sync env (browser vs node)\nif (typeof window === 'undefined') {\n\tsetTimeout(start, 0);\n} else {\n\twindow.addEventListener('load', start);\n}\n\nexport default test;\n","const createTextVNode = value => ({\n\tnodeType: 'Text',\n\tchildren: [],\n\tprops: {value},\n\tlifeCycle: 0\n});\n\nconst normalize = (children, currentText = '', normalized = []) => {\n\tif (children.length === 0) {\n\t\tif (currentText) {\n\t\t\tnormalized.push(createTextVNode(currentText));\n\t\t}\n\t\treturn normalized;\n\t}\n\n\tconst child = children.shift();\n\tconst type = typeof child;\n\tif (type === 'object' || type === 'function') {\n\t\tif (currentText) {\n\t\t\tnormalized.push(createTextVNode(currentText));\n\t\t\tcurrentText = '';\n\t\t}\n\t\tnormalized.push(child);\n\t} else {\n\t\tcurrentText += child;\n\t}\n\n\treturn normalize(children, currentText, normalized);\n};\n\n/**\n * Transform hyperscript into virtual dom node\n * @param nodeType {Function, String} - the HTML tag if string, a component or combinator otherwise\n * @param props {Object} - the list of properties/attributes associated to the related node\n * @param children - the virtual dom nodes related to the current node children\n * @returns {Object} - a virtual dom node\n */\nexport default function h(nodeType, props, ...children) {\n\tconst flatChildren = [];\n\tfor (const c of children) {\n\t\tif (Array.isArray(c)) {\n\t\t\tflatChildren.push(...c);\n\t\t} else {\n\t\t\tflatChildren.push(c);\n\t\t}\n\t}\n\n\tconst normalizedChildren = normalize(flatChildren);\n\n\tif (typeof nodeType !== 'function') { // Regular html/text node\n\t\treturn {\n\t\t\tnodeType,\n\t\t\tprops,\n\t\t\tchildren: normalizedChildren,\n\t\t\tlifeCycle: 0\n\t\t};\n\t}\n\n\tconst fullProps = Object.assign({children: normalizedChildren}, props);\n\tconst comp = nodeType(fullProps);\n\tconst compType = typeof comp;\n\treturn compType !== 'function' ? comp : h(comp, props, ...normalizedChildren); // Functional comp vs combinator (HOC)\n}\n","export const swap = f => (a, b) => f(b, a);\n\nexport const compose = (first, ...fns) => (...args) => fns.reduce((previous, current) => current(previous), first(...args));\n\nexport const curry = (fn, arityLeft) => {\n\tconst arity = arityLeft || fn.length;\n\treturn (...args) => {\n\t\tconst argLength = args.length || 1;\n\t\tif (arity === argLength) {\n\t\t\treturn fn(...args);\n\t\t}\n\t\tconst func = (...moreArgs) => fn(...args, ...moreArgs);\n\t\treturn curry(func, arity - args.length);\n\t};\n};\n\nexport const apply = fn => (...args) => fn(...args);\n\nexport const tap = fn => arg => {\n\tfn(arg);\n\treturn arg;\n};\n","export const nextTick = fn => setTimeout(fn, 0);\n\nexport const pairify = holder => key => [key, holder[key]];\n\nexport const isShallowEqual = (a, b) => {\n\tconst aKeys = Object.keys(a);\n\tconst bKeys = Object.keys(b);\n\treturn aKeys.length === bKeys.length && aKeys.every(k => a[k] === b[k]);\n};\n\nconst ownKeys = obj => Object.getOwnPropertyNames(obj);\n\nexport const isDeepEqual = (a, b) => {\n\tconst type = typeof a;\n\tconst typeB = typeof b;\n\n\t// Short path(s)\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (type !== typeB) {\n\t\treturn false;\n\t}\n\n\tif (type !== 'object') {\n\t\treturn a === b;\n\t}\n\n\t// Objects ...\n\tif (a === null || b === null) {\n\t\treturn false;\n\t}\n\n\tif (Array.isArray(a)) {\n\t\treturn a.length && b.length && a.every((item, i) => isDeepEqual(a[i], b[i]));\n\t}\n\n\tconst aKeys = ownKeys(a);\n\tconst bKeys = ownKeys(b);\n\treturn aKeys.length === bKeys.length && aKeys.every(k => isDeepEqual(a[k], b[k]));\n};\n\nexport const identity = a => a;\n\nexport const noop = () => {};\n","import {tap} from 'smart-table-operators';\n\nconst SVG_NP = 'http://www.w3.org/2000/svg';\n\nconst updateDomNodeFactory = method => items => tap(domNode => {\n\tfor (const pair of items) {\n\t\tdomNode[method](...pair);\n\t}\n});\n\nexport const removeEventListeners = updateDomNodeFactory('removeEventListener');\n\nexport const addEventListeners = updateDomNodeFactory('addEventListener');\n\nexport const setAttributes = items => tap(domNode => {\n\tconst attributes = items.filter(([key,value]) => typeof value !== 'function');\n\tfor (const [key, value] of attributes) {\n\t\tif (value === false) {\n\t\t\tdomNode.removeAttribute(key);\n\t\t} else {\n\t\t\tdomNode.setAttribute(key, value);\n\t\t}\n\t}\n});\n\nexport const removeAttributes = items => tap(domNode => {\n\tfor (const attr of items) {\n\t\tdomNode.removeAttribute(attr);\n\t}\n});\n\nexport const setTextNode = val => node => {\n\tnode.textContent = val;\n};\n\nexport const createDomNode = (vnode, parent) => {\n\tif (vnode.nodeType === 'svg') {\n\t\treturn document.createElementNS(SVG_NP, vnode.nodeType);\n\t} else if (vnode.nodeType === 'Text') {\n\t\treturn document.createTextNode(vnode.nodeType);\n\t}\n\treturn parent.namespaceURI === SVG_NP ?\n\t\tdocument.createElementNS(SVG_NP, vnode.nodeType) :\n\t\tdocument.createElement(vnode.nodeType);\n};\n\nexport const getEventListeners = props => Object.keys(props)\n\t.filter(k => k.substr(0, 2) === 'on')\n\t.map(k => [k.substr(2).toLowerCase(), props[k]]);\n","export default function * traverse(vnode) {\n\tyield vnode;\n\tif (vnode.children && vnode.children.length > 0) {\n\t\tfor (const child of vnode.children) {\n\t\t\tyield * traverse(child);\n\t\t}\n\t}\n}\n","import {compose, curry} from 'smart-table-operators';\nimport {\n\tisShallowEqual,\n\tpairify,\n\tnextTick,\n\tnoop\n} from './util';\nimport {\n\tremoveAttributes,\n\tsetAttributes,\n\tsetTextNode,\n\tcreateDomNode,\n\tremoveEventListeners,\n\taddEventListeners,\n\tgetEventListeners\n} from './dom-util';\nimport traverse from './traverse';\n\nconst updateEventListeners = ({props: newNodeProps} = {}, {props: oldNodeProps} = {}) => {\n\tconst newNodeEvents = getEventListeners(newNodeProps || {});\n\tconst oldNodeEvents = getEventListeners(oldNodeProps || {});\n\n\treturn newNodeEvents.length || oldNodeEvents.length ?\n\t\tcompose(\n\t\t\tremoveEventListeners(oldNodeEvents),\n\t\t\taddEventListeners(newNodeEvents)\n\t\t) : noop;\n};\n\nconst updateAttributes = (newVNode, oldVNode) => {\n\tconst newVNodeProps = newVNode.props || {};\n\tconst oldVNodeProps = oldVNode.props || {};\n\n\tif (isShallowEqual(newVNodeProps, oldVNodeProps)) {\n\t\treturn noop;\n\t}\n\n\tif (newVNode.nodeType === 'Text') {\n\t\treturn setTextNode(newVNode.props.value);\n\t}\n\n\tconst newNodeKeys = Object.keys(newVNodeProps);\n\tconst oldNodeKeys = Object.keys(oldVNodeProps);\n\tconst attributesToRemove = oldNodeKeys.filter(k => !newNodeKeys.includes(k));\n\n\treturn compose(\n\t\tremoveAttributes(attributesToRemove),\n\t\tsetAttributes(newNodeKeys.map(pairify(newVNodeProps)))\n\t);\n};\n\nconst domFactory = createDomNode;\n\n// Apply vnode diffing to actual dom node (if new node => it will be mounted into the parent)\nconst domify = (oldVnode, newVnode, parentDomNode) => {\n\tif (!oldVnode && newVnode) { // There is no previous vnode\n\t\tnewVnode.dom = parentDomNode.appendChild(domFactory(newVnode, parentDomNode));\n\t\tnewVnode.lifeCycle = 1;\n\t\treturn {vnode: newVnode, garbage: null};\n\t}\n\n\t// There is a previous vnode\n\tif (!newVnode) { // We must remove the related dom node\n\t\tparentDomNode.removeChild(oldVnode.dom);\n\t\treturn ({garbage: oldVnode, dom: null});\n\t} else if (newVnode.nodeType !== oldVnode.nodeType) { // It must be replaced\n\t\tnewVnode.dom = domFactory(newVnode, parentDomNode);\n\t\tnewVnode.lifeCycle = 1;\n\t\tparentDomNode.replaceChild(newVnode.dom, oldVnode.dom);\n\t\treturn {garbage: oldVnode, vnode: newVnode};\n\t}\n\n\t// Only update attributes\n\tnewVnode.dom = oldVnode.dom;\n\t// Pass the unMountHook\n\tif (oldVnode.onUnMount) {\n\t\tnewVnode.onUnMount = oldVnode.onUnMount;\n\t}\n\tnewVnode.lifeCycle = oldVnode.lifeCycle + 1;\n\treturn {garbage: null, vnode: newVnode};\n};\n\n/**\n * Render a virtual dom node, diffing it with its previous version, mounting it in a parent dom node\n * @param oldVnode\n * @param newVnode\n * @param parentDomNode\n * @param onNextTick collect operations to be processed on next tick\n * @returns {Array}\n */\nexport const render = (oldVnode, newVnode, parentDomNode, onNextTick = []) => {\n\t// 1. transform the new vnode to a vnode connected to an actual dom element based on vnode versions diffing\n\t// \ti. note at this step occur dom insertions/removals\n\t// \tii. it may collect sub tree to be dropped (or \"unmounted\")\n\tconst {vnode, garbage} = domify(oldVnode, newVnode, parentDomNode);\n\n\tif (garbage !== null) {\n\t\t// Defer unmount lifecycle as it is not \"visual\"\n\t\tfor (const g of traverse(garbage)) {\n\t\t\tif (g.onUnMount) {\n\t\t\t\tonNextTick.push(g.onUnMount);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalisation of old node (in case of a replace we will consider old node as empty node (no children, no props))\n\tconst tempOldNode = garbage !== null || !oldVnode ? {length: 0, children: [], props: {}} : oldVnode;\n\n\tif (vnode) {\n\t\t// 2. update dom attributes based on vnode prop diffing.\n\t\t// Sync\n\t\tif (vnode.onUpdate && vnode.lifeCycle > 1) {\n\t\t\tvnode.onUpdate();\n\t\t}\n\n\t\tupdateAttributes(vnode, tempOldNode)(vnode.dom);\n\n\t\t// Fast path\n\t\tif (vnode.nodeType === 'Text') {\n\t\t\treturn onNextTick;\n\t\t}\n\n\t\tif (vnode.onMount && vnode.lifeCycle === 1) {\n\t\t\tonNextTick.push(() => vnode.onMount());\n\t\t}\n\n\t\tconst childrenCount = Math.max(tempOldNode.children.length, vnode.children.length);\n\n\t\t// Async will be deferred as it is not \"visual\"\n\t\tconst setListeners = updateEventListeners(vnode, tempOldNode);\n\t\tif (setListeners !== noop) {\n\t\t\tonNextTick.push(() => setListeners(vnode.dom));\n\t\t}\n\n\t\t// 3. recursively traverse children to update dom and collect functions to process on next tick\n\t\tif (childrenCount > 0) {\n\t\t\tfor (let i = 0; i < childrenCount; i++) {\n\t\t\t\t// We pass onNextTick as reference (improve perf: memory + speed)\n\t\t\t\trender(tempOldNode.children[i], vnode.children[i], vnode.dom, onNextTick);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn onNextTick;\n};\n\nexport const hydrate = (vnode, dom) => {\n\tconst hydrated = Object.assign({}, vnode);\n\tconst domChildren = Array.from(dom.childNodes).filter(n => n.nodeType !== 3 || n.nodeValue.trim() !== '');\n\thydrated.dom = dom;\n\thydrated.children = vnode.children.map((child, i) => hydrate(child, domChildren[i]));\n\treturn hydrated;\n};\n\nexport const mount = curry((comp, initProp, root) => {\n\tconst vnode = comp.nodeType !== void 0 ? comp : comp(initProp || {});\n\tconst oldVNode = root.children.length ? hydrate(vnode, root.children[0]) : null;\n\tconst batch = render(oldVNode, vnode, root);\n\tnextTick(() => {\n\t\tfor (const op of batch) {\n\t\t\top();\n\t\t}\n\t});\n\treturn vnode;\n});\n","import {render} from './dom-renderer';\nimport {nextTick} from './util';\n\n/**\n * Create a function which will trigger an update of the component with the passed state\n * @param comp {Function} - the component to update\n * @param initialVNode - the initial virtual dom node related to the component (ie once it has been mounted)\n * @returns {Function} - the update function\n */\nexport default (comp, initialVNode) => {\n\tlet oldNode = initialVNode;\n\treturn (props, ...args) => {\n\t\tconst mount = oldNode.dom.parentNode;\n\t\tconst newNode = comp(Object.assign({children: oldNode.children || []}, oldNode.props, props), ...args);\n\t\tconst nextBatch = render(oldNode, newNode, mount);\n\n\t\t// Danger zone !!!!\n\t\t// Change by keeping the same reference so the eventual parent node does not need to be \"aware\" tree may have changed downstream: oldNode may be the child of someone ...(well that is a tree data structure after all :P )\n\t\toldNode = Object.assign(oldNode || {}, newNode);\n\t\t// End danger zone\n\n\t\tnextTick(() => {\n\t\t\tfor (const op of nextBatch) {\n\t\t\t\top();\n\t\t\t}\n\t\t});\n\n\t\treturn newNode;\n\t};\n};\n","import {curry, compose} from 'smart-table-operators';\n\nconst lifeCycleFactory = method => curry((fn, comp) => (props, ...args) => {\n\tconst n = comp(props, ...args);\n\tconst applyFn = () => fn(n, ...args);\n\tconst current = n[method];\n\tn[method] = current ? compose(current, applyFn) : applyFn;\n\treturn n;\n});\n\n/**\n * Life cycle: when the component is mounted\n */\nexport const onMount = lifeCycleFactory('onMount');\n\n/**\n * Life cycle: when the component is unmounted\n */\nexport const onUnMount = lifeCycleFactory('onUnMount');\n\n/**\n * Life cycle: before the component is updated\n */\nexport const onUpdate = lifeCycleFactory('onUpdate');\n","import {compose} from 'smart-table-operators';\nimport update from './update';\nimport {onMount, onUnMount} from './lifecycles';\nimport {isDeepEqual, identity} from './util';\n\nconst defaultUpdate = (a, b) => isDeepEqual(a, b) === false;\n\n/**\n * Connect combinator: will create \"container\" component which will subscribe to a Redux like store. and update its children whenever a specific slice of state change under specific circumstances\n * @param store {Object} - The store (implementing the same api than Redux store\n * @param sliceState {Function} [state => state] - A function which takes as argument the state and return a \"transformed\" state (like partial, etc) relevant to the container\n * @returns {Function} - A container factory with the following arguments:\n *  - mapStateToProp: a function which takes as argument what the \"sliceState\" function returns and returns an object to be blended into the properties of the component (default to identity function)\n *  - shouldUpdate: a function which takes as arguments the previous and the current versions of what \"sliceState\" function returns to returns a boolean defining whether the component should be updated (default to a deepEqual check)\n */\nexport default (store, sliceState = identity) =>\n\t(comp, mapStateToProp = identity, shouldUpate = defaultUpdate) => initProp => {\n\t\tconst componentProps = initProp;\n\t\tlet updateFunc;\n\t\tlet previousStateSlice;\n\t\tlet unsubscriber;\n\n\t\tconst wrapperComp = (props, ...args) => {\n\t\t\treturn comp(Object.assign(props, mapStateToProp(sliceState(store.getState()))), ...args);\n\t\t};\n\n\t\tconst subscribe = onMount(vnode => {\n\t\t\tupdateFunc = update(wrapperComp, vnode);\n\t\t\tunsubscriber = store.subscribe(() => {\n\t\t\t\tconst stateSlice = sliceState(store.getState());\n\t\t\t\tif (shouldUpate(previousStateSlice, stateSlice) === true) {\n\t\t\t\t\tObject.assign(componentProps, mapStateToProp(stateSlice));\n\t\t\t\t\tupdateFunc(componentProps);\n\t\t\t\t\tpreviousStateSlice = stateSlice;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst unsubscribe = onUnMount(() => {\n\t\t\tunsubscriber();\n\t\t});\n\n\t\treturn compose(subscribe, unsubscribe)(wrapperComp);\n\t};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };","export const waitNextTick = () => new Promise(function (resolve) {\n\tsetTimeout(function () {\n\t\tresolve();\n\t}, 2)\n});\n","import test from 'zora';\nimport h from '../lib/h';\nimport connect from '../lib/connect';\nimport {mount} from '../lib/dom-renderer';\nimport {createStore} from 'redux';\nimport {waitNextTick} from './test-util';\n\ntest('should connect a component to changes of redux state', async t => {\n\tconst store = createStore((state, action) => ({value: action.value}));\n\tconst Comp = connect(store)(props => {\n\t\treturn <span>{props.value}</span>\n\t});\n\tconst container = document.createElement('div');\n\tmount(<Comp/>, {}, container);\n\tawait waitNextTick();\n\tstore.dispatch({type: 'whatever', value: 'blah'});\n\tt.equal(container.innerHTML, '<span>blah</span>');\n\tstore.dispatch({type: 'whatever', value: 'woot'});\n\tt.equal(container.innerHTML, '<span>woot</span>');\n});\ntest('should connect a component to changes of a slice of a redux state', async t => {\n\tconst store = createStore((state = {woot: {value: 'foo'}, other: {valueBis: 'blah'}}, action) => {\n\t\tconst {type} = action;\n\t\tswitch (type) {\n\t\t\tcase 'WOOT':\n\t\t\t\treturn Object.assign({}, {woot: {value: action.value}});\n\t\t\tcase 'NOT_WOOT':\n\t\t\t\treturn Object.assign({}, {other: {valueBis: 'another_one'}});\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t});\n\tconst Comp = connect(store, state => state.woot)(props => {\n\t\treturn <span>{props.value}</span>\n\t});\n\tconst container = document.createElement('div');\n\tmount(<Comp/>, {}, container);\n\tawait waitNextTick();\n\tstore.dispatch({type: 'whatever', value: 'blah'});\n\tt.equal(container.innerHTML, '<span>foo</span>');\n\tstore.dispatch({type: 'NOT_WOOT', value: 'blah'});\n\tt.equal(container.innerHTML, '<span>foo</span>');\n\tstore.dispatch({type: 'WOOT', value: 'bip'});\n\tt.equal(container.innerHTML, '<span>bip</span>');\n});\ntest('should give a condition to update a connected component', async t => {\n\tconst store = createStore((state, action) => ({value: action.value}));\n\tconst Comp = connect(store)(props => {\n\t\treturn <span>{props.value}</span>\n\t}, state => state, (oldState = {value: 'a'}, newState = {}) => {\n\t\treturn newState.value > oldState.value;\n\t});\n\tconst container = document.createElement('div');\n\tmount(<Comp/>, {}, container);\n\tawait waitNextTick();\n\tstore.dispatch({type: 'whatever', value: 'blah'});\n\tt.equal(container.innerHTML, '<span>blah</span>');\n\tstore.dispatch({type: 'whatever', value: 'aaa'});\n\tt.equal(container.innerHTML, '<span>blah</span>');\n\tstore.dispatch({type: 'whatever', value: 'zzz'});\n\tt.equal(container.innerHTML, '<span>zzz</span>');\n});\n","import {\n\tsetAttributes,\n\tremoveAttributes,\n\taddEventListeners,\n\tremoveEventListeners,\n\tsetTextNode,\n\tgetEventListeners\n} from '../lib/dom-util';\nimport {noop} from '../lib/util';\nimport test from 'zora';\n\nconst domProto = {\n\n\tremoveAttribute(attr) {\n\t\tdelete this[attr];\n\t},\n\n\tsetAttribute(attr, val) {\n\t\tthis[attr] = val;\n\t},\n\n\taddEventListener(event, handler) {\n\t\tthis.handlers[event] = handler;\n\t},\n\n\tremoveEventListener(event, handler) {\n\t\tdelete this.handlers[event];\n\t}\n};\n\nconst fakeDom = () => {\n\tconst dom = Object.create(domProto);\n\tObject.defineProperty(dom, 'handlers', {value: {}});\n\treturn dom;\n};\n\nconst ownProps = (obj) => {\n\tconst ownProperties = [];\n\tfor (let prop in obj) {\n\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\townProperties.push(prop);\n\t\t}\n\t}\n\treturn ownProperties;\n};\n\ntest('set attributes', t => {\n\tconst d = fakeDom();\n\tconst update = setAttributes([['foo', 'bar'], ['blah', 2], ['woot', true]]);\n\tconst n = update(d);\n\tt.equal(n, d, 'should have forwarded dom node');\n\tt.equal(d.foo, 'bar');\n\tt.equal(d.blah, 2);\n\tt.equal(d.woot, true);\n\tconst props = ownProps(d);\n\tt.deepEqual(props, ['foo', 'blah', 'woot']);\n\tconst handlers = ownProps(d.handlers);\n\tt.equal(handlers.length, 0);\n});\ntest('remove attribute if value is false', t => {\n\tconst d = fakeDom();\n\td.foo = 'bar';\n\tt.deepEqual(ownProps(d), ['foo']);\n\tconst update = setAttributes([['foo', false]]);\n\tconst n = update(d);\n\tt.equal(n, d, 'should have forwarded dom node');\n\tt.equal(d.foo, undefined);\n\tt.equal(ownProps(d).length, 0);\n\tconst handlers = ownProps(d.handlers);\n\tt.equal(handlers.length, 0);\n});\ntest('remove attributes', t => {\n\tconst d = fakeDom();\n\td.foo = 'bar';\n\td.woot = 2;\n\td.bar = 'blah';\n\tt.deepEqual(ownProps(d), ['foo', 'woot', 'bar']);\n\tconst update = removeAttributes(['foo', 'woot']);\n\tconst n = update(d);\n\tt.equal(n, d, 'should have forwarded dom node');\n\tt.equal(d.bar, 'blah');\n\tt.equal(ownProps(d).length, 1);\n\tconst handlers = ownProps(d.handlers);\n\tt.equal(handlers.length, 0);\n});\ntest('add event listeners', t => {\n\tconst d = fakeDom();\n\tconst update = addEventListeners([['click', noop\n\t], ['input', noop]]);\n\tconst n = update(d);\n\tt.equal(n, d, 'should have forwarded the node');\n\tt.equal(ownProps(d).length, 0);\n\tt.deepEqual(ownProps(d.handlers), ['click', 'input']);\n\tt.equal(d.handlers.click, noop);\n\tt.equal(d.handlers.input, noop);\n});\ntest('remove event listeners', t => {\n\tconst d = fakeDom();\n\td.handlers.click = noop;\n\td.handlers.input = noop;\n\tconst update = removeEventListeners([['click', noop\n\t]]);\n\tconst n = update(d);\n\tt.equal(n, d, 'should have forwarded the node');\n\tt.deepEqual(ownProps(d.handlers), ['input']);\n\tt.equal(d.handlers.input, noop);\n});\ntest('set text node value', function * (t) {\n\tconst node = {};\n\tconst update = setTextNode('foo');\n\tupdate(node);\n\tt.equal(node.textContent, 'foo');\n});\ntest('get event Listeners from props object', t => {\n\tconst props = {\n\t\tonClick: () => {\n\t\t},\n\t\tinput: () => {\n\t\t},\n\t\tonMousedown: () => {\n\t\t}\n\t};\n\n\tconst events = getEventListeners(props);\n\tt.deepEqual(events, [\n\t\t['click', props.onClick],\n\t\t['mousedown', props.onMousedown],\n\t]);\n});","import {compose} from 'smart-table-operators';\nimport update from './update';\nimport {onMount, onUpdate} from './lifecycles';\n\n/**\n * Combinator to create a \"stateful component\": ie it will have its own state and the ability to update its own tree\n * @param comp {Function} - the component\n * @returns {Function} - a new wrapped component\n */\nexport default comp => () => {\n\tlet updateFunc;\n\tconst wrapperComp = (props, ...args) => {\n\t\t// Lazy evaluate updateFunc (to make sure it is defined\n\t\tconst setState = newState => updateFunc(newState);\n\t\treturn comp(props, setState, ...args);\n\t};\n\tconst setUpdateFunction = vnode => {\n\t\tupdateFunc = update(wrapperComp, vnode);\n\t};\n\n\treturn compose(onMount(setUpdateFunction), onUpdate(setUpdateFunction))(wrapperComp);\n};\n","import h from './h';\n\n// Main root\n// todo\n// Document metadata\n// todo\n// Sectioning root\nexport const body = (...args) => h('body', ...args);\n// Content sectioning\nexport const address = (...args) => h('address', ...args);\nexport const article = (...args) => h('article', ...args);\nexport const aside = (...args) => h('aside', ...args);\nexport const footer = (...args) => h('footer', ...args);\nexport const header = (...args) => h('header', ...args);\nexport const h1 = (...args) => h('h1', ...args);\nexport const h2 = (...args) => h('h2', ...args);\nexport const h3 = (...args) => h('h3', ...args);\nexport const h4 = (...args) => h('h4', ...args);\nexport const h5 = (...args) => h('h5', ...args);\nexport const h6 = (...args) => h('h6', ...args);\nexport const hgroup = (...args) => h('hgroup', ...args);\nexport const nav = (...args) => h('nav', ...args);\nexport const section = (...args) => h('section', ...args);\n// Text content\nexport const blockquote = (...args) => h('blockquote', ...args);\nexport const dd = (...args) => h('dd', ...args);\nexport const dir = (...args) => h('dir', ...args);\nexport const div = (...args) => h('div', ...args);\nexport const dl = (...args) => h('dl', ...args);\nexport const dt = (...args) => h('dt', ...args);\nexport const figcaption = (...args) => h('figcaption', ...args);\nexport const figure = (...args) => h('figure', ...args);\nexport const hr = (...args) => h('hr', ...args);\nexport const li = (...args) => h('li', ...args);\nexport const main = (...args) => h('main', ...args);\nexport const ol = (...args) => h('ol', ...args);\nexport const p = (...args) => h('p', ...args);\nexport const pre = (...args) => h('pre', ...args);\nexport const ul = (...args) => h('ul', ...args);\n// Inline text semantic\nexport const a = (...args) => h('a', ...args);\nexport const abbr = (...args) => h('abbr', ...args);\nexport const b = (...args) => h('b', ...args);\nexport const bdi = (...args) => h('bdi', ...args);\nexport const bdo = (...args) => h('bdo', ...args);\nexport const br = (...args) => h('br', ...args);\nexport const cite = (...args) => h('cite', ...args);\nexport const quote = (...args) => h('quote', ...args);\nexport const data = (...args) => h('data', ...args);\nexport const dfn = (...args) => h('dfn', ...args);\nexport const em = (...args) => h('em', ...args);\nexport const i = (...args) => h('i', ...args);\nexport const kbd = (...args) => h('kbd', ...args);\nexport const mark = (...args) => h('mark', ...args);\nexport const q = (...args) => h('q', ...args);\nexport const rp = (...args) => h('rp', ...args);\nexport const rt = (...args) => h('rt', ...args);\nexport const rtc = (...args) => h('rtc', ...args);\nexport const ruby = (...args) => h('ruby', ...args);\nexport const s = (...args) => h('s', ...args);\nexport const samp = (...args) => h('samp', ...args);\nexport const small = (...args) => h('small', ...args);\nexport const span = (...args) => h('span', ...args);\nexport const strong = (...args) => h('strong', ...args);\nexport const sub = (...args) => h('sub', ...args);\nexport const sup = (...args) => h('sup', ...args);\nexport const time = (...args) => h('time', ...args);\nexport const u = (...args) => h('u', ...args);\n// export const var = (...args) => h('var', ...args);\nexport const wbr = (...args) => h('wbr', ...args);\n// Image and multimedia\nexport const area = (...args) => h('area', ...args);\nexport const audio = (...args) => h('audio', ...args);\nexport const img = (...args) => h('img', ...args);\nexport const map = (...args) => h('map', ...args);\nexport const track = (...args) => h('track', ...args);\nexport const video = (...args) => h('video', ...args);\n// Embedded content\nexport const embed = (...args) => h('embed', ...args);\nexport const object = (...args) => h('object', ...args);\nexport const param = (...args) => h('param', ...args);\nexport const picture = (...args) => h('picture', ...args);\nexport const source = (...args) => h('source', ...args);\n// Scripting\n// todo\n// Demarcating edit\n// todo\n// Table content\nexport const caption = (...args) => h('caption', ...args);\nexport const col = (...args) => h('col', ...args);\nexport const colgroup = (...args) => h('colgroup', ...args);\nexport const table = (...args) => h('table', ...args);\nexport const tbody = (...args) => h('tbody', ...args);\nexport const td = (...args) => h('td', ...args);\nexport const tfoot = (...args) => h('tfoot', ...args);\nexport const th = (...args) => h('th', ...args);\nexport const thead = (...args) => h('thead', ...args);\nexport const tr = (...args) => h('tr', ...args);\n// Forms\nexport const button = (...args) => h('button', ...args);\nexport const datalist = (...args) => h('datalist', ...args);\nexport const fieldset = (...args) => h('fieldset', ...args);\nexport const form = (...args) => h('form', ...args);\nexport const input = (...args) => h('input', ...args);\nexport const label = (...args) => h('label', ...args);\nexport const legend = (...args) => h('legend', ...args);\nexport const meter = (...args) => h('meter', ...args);\nexport const optgroup = (...args) => h('optgroup', ...args);\nexport const option = (...args) => h('option', ...args);\nexport const output = (...args) => h('output', ...args);\nexport const progress = (...args) => h('progress', ...args);\nexport const select = (...args) => h('select', ...args);\nexport const textarea = (...args) => h('textarea', ...args);\n// Interactive elements\n// todo\n\n\n","import {curry} from 'smart-table-operators';\n\nconst filterOutFunction = props => Object\n\t.entries(props || {})\n\t.filter(([key, value]) => typeof value !== 'function');\n\nconst escapeHTML = s => String(s)\n\t.replace(/&/g, '&amp;')\n\t.replace(/</g, '&lt;')\n\t.replace(/>/g, '&gt;');\n\nconst render = curry((comp, initProp) => {\n\tconst vnode = comp.nodeType !== void 0 ? comp : comp(initProp || {});\n\tconst {nodeType, children, props} = vnode;\n\tconst attributes = escapeHTML(filterOutFunction(props)\n\t\t.map(([key, value]) => typeof value === 'boolean' ? (value === true ? key : '') : `${key}=\"${value}\"`)\n\t\t.join(' '));\n\tconst childrenHtml = children !== void 0 && children.length > 0 ? children.map(ch => render(ch)()).join('') : '';\n\treturn nodeType === 'Text' ? escapeHTML(String(props.value)) : `<${nodeType}${attributes ? ` ${attributes}` : ''}>${childrenHtml}</${nodeType}>`;\n});\n\nexport default render;\n","import test from 'zora';\nimport {h} from '../index';\n\ntest('create regular html node', t => {\n\tconst vnode = h('div', {id: 'someId', 'class': 'special'});\n\tt.deepEqual(vnode, {lifeCycle: 0, nodeType: 'div', props: {id: 'someId', 'class': 'special'}, children: []});\n});\ntest('normalize text node', t => {\n\tconst vnode = h('div', {id: 'someId', 'class': 'special'}, 'foo', 'bar');\n\tt.deepEqual(vnode, {\n\t\tnodeType: 'div',\n\t\tprops: {id: 'someId', class: 'special'},\n\t\tchildren: [{nodeType: 'Text', children: [], props: {'value': 'foobar'}, lifeCycle: 0}],\n\t\tlifeCycle: 0\n\t});\n});\ntest('create regular html node with text node children', t => {\n\tconst vnode = h('div', {id: 'someId', 'class': 'special'}, 'foo');\n\tt.deepEqual(vnode, {\n\t\tnodeType: 'div', lifeCycle: 0, props: {id: 'someId', 'class': 'special'}, children: [{\n\t\t\tnodeType: 'Text',\n\t\t\tchildren: [],\n\t\t\tprops: {value: 'foo'},\n\t\t\tlifeCycle: 0\n\t\t}]\n\t});\n});\ntest('create regular html with children', t => {\n\tconst vnode = h('ul', {id: 'collection'}, h('li', {id: 1}, 'item1'), h('li', {id: 2}, 'item2'));\n\tt.deepEqual(vnode, {\n\t\tnodeType: 'ul',\n\t\tprops: {id: 'collection'},\n\t\tlifeCycle: 0,\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tnodeType: 'li',\n\t\t\t\tprops: {id: 1},\n\t\t\t\tlifeCycle: 0,\n\t\t\t\tchildren: [{\n\t\t\t\t\tnodeType: 'Text',\n\t\t\t\t\tprops: {value: 'item1'},\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tlifeCycle: 0\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\tnodeType: 'li',\n\t\t\t\tprops: {id: 2},\n\t\t\t\tlifeCycle: 0,\n\t\t\t\tchildren: [{\n\t\t\t\t\tnodeType: 'Text',\n\t\t\t\t\tprops: {value: 'item2'},\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tlifeCycle: 0\n\t\t\t\t}]\n\t\t\t}\n\t\t]\n\t});\n});\ntest('use function as component passing the children as prop', t => {\n\tconst foo = (props) => h('p', props);\n\tconst vnode = h(foo, {id: 1}, 'hello world');\n\tt.deepEqual(vnode, {\n\t\tnodeType: 'p',\n\t\tlifeCycle: 0,\n\t\tprops: {\n\t\t\tchildren: [{\n\t\t\t\tnodeType: 'Text',\n\t\t\t\tlifeCycle: 0,\n\t\t\t\tchildren: [],\n\t\t\t\tprops: {value: 'hello world'}\n\t\t\t}],\n\t\t\tid: 1\n\t\t},\n\t\tchildren: []\n\t});\n});\ntest('use nested combinator to create vnode', t => {\n\tconst combinator = () => () => () => () => (props) => h('p', {id: 'foo'});\n\tconst vnode = h(combinator, {});\n\tt.deepEqual(vnode, {nodeType: 'p', lifeCycle: 0, props: {id: 'foo'}, children: []});\n});\n","import test from 'zora';\nimport {onMount, onUnMount, h, mount, render} from '../index';\nimport {waitNextTick} from './test-util'\n\ntest('should run a function when component is mounted', async t => {\n\tlet counter = 0;\n\tconst container = document.createElement('div');\n\tconst comp = () => <p>hello world</p>;\n\tconst withMount = onMount(() => {\n\t\tcounter++\n\t}, comp);\n\tmount(withMount, {}, container);\n\tt.equal(counter, 0);\n\tawait waitNextTick();\n\tt.equal(counter, 1);\n});\ntest('should compose the mount function when there are many', async t => {\n\tlet counter = 0;\n\tconst container = document.createElement('div');\n\tconst comp = () => <p>hello world</p>;\n\tconst withMount = onMount(() => {\n\t\tcounter++\n\t}, comp);\n\tconst Combined = onMount(() => {\n\t\tcounter = counter * 10\n\t}, withMount);\n\tmount(Combined, {}, container);\n\tt.equal(counter, 0);\n\tawait waitNextTick();\n\tt.equal(counter, 10);\n});\ntest('should run a function when component is unMounted', t => {\n\tlet unmounted = null;\n\tconst container = document.createElement('div');\n\tconst Item = onUnMount((n) => {\n\t\tunmounted = n;\n\t}, ({id}) => <li id={id}>hello world</li>);\n\tconst containerComp = (({items}) => (<ul>\n\t\t{\n\t\t\titems.map(item => <Item {...item}/>)\n\t\t}\n\t</ul>));\n\n\tconst vnode = mount(containerComp, {items: [{id: 1}, {id: 2}, {id: 3}]}, container);\n\tt.equal(container.innerHTML, '<ul><li id=\"1\">hello world</li><li id=\"2\">hello world</li><li id=\"3\">hello world</li></ul>');\n\tconst batch = render(vnode, containerComp({items: [{id: 1}, {id: 3}]}), container);\n\tt.equal(container.innerHTML, '<ul><li id=\"1\">hello world</li><li id=\"3\">hello world</li></ul>');\n\tfor (let f of batch) {\n\t\tf();\n\t}\n\tt.notEqual(unmounted, null);\n});\n","import test from 'zora';\nimport {mount, h} from '../index';\n\ntest('mount a simple component', t => {\n\tconst container = document.createElement('div');\n\tconst Comp = (props) => (<h1><span id={props.id}>{props.greeting}</span></h1>);\n\tmount(Comp, {id: 123, greeting: 'hello world'}, container);\n\tt.equal(container.innerHTML, '<h1><span id=\"123\">hello world</span></h1>');\n});\ntest('mount composed component', t => {\n\tconst container = document.createElement('div');\n\tconst Comp = (props) => (<h1><span id={props.id}>{props.greeting}</span></h1>);\n\tconst Container = (props) => (<section>\n\t\t<Comp id=\"567\" greeting=\"hello you\"/>\n\t</section>);\n\tmount(Container, {}, container);\n\tt.equal(container.innerHTML, '<section><h1><span id=\"567\">hello you</span></h1></section>');\n});\ntest('mount a component with inner child', t => {\n\tconst container = document.createElement('div');\n\tconst Comp = (props) => (<h1><span id={props.id}>{props.greeting}</span></h1>);\n\tconst Container = (props) => (<section>{props.children}</section>);\n\tmount(() => <Container><Comp id=\"567\" greeting=\"hello world\"/></Container>, {}, container);\n\tt.equal(container.innerHTML, '<section><h1><span id=\"567\">hello world</span></h1></section>');\n});\n","import test from 'zora';\nimport {update, mount, h} from '../index';\n\n\ttest('give ability to update a node (and its descendant)', t => {\n\t\tconst container = document.createElement('div');\n\t\tconst comp = (({id, content}) => (<p id={id}>{content}</p>));\n\t\tconst initialVnode = mount(comp, {id: 123, content: 'hello world'}, container);\n\t\tt.equal(container.innerHTML, '<p id=\"123\">hello world</p>');\n\t\tconst updateFunc = update(comp, initialVnode);\n\t\tupdateFunc({id: 567, content: 'bonjour monde'});\n\t\tt.equal(container.innerHTML, '<p id=\"567\">bonjour monde</p>');\n\t});\n","import test from 'zora';\nimport {isShallowEqual, pairify} from '../lib/util';\nimport traverse from '../lib/traverse';\n\ntest('should traverse a tree (going deep first)', t => {\n\tconst tree = {\n\t\tid: 1,\n\t\tchildren: [\n\t\t\t{id: 2, children: [{id: 3}, {id: 4}]},\n\t\t\t{id: 5, children: [{id: 6}]},\n\t\t\t{id: 7}\n\t\t]\n\t};\n\n\tconst sequence = [...traverse(tree)].map(n => n.id);\n\tt.deepEqual(sequence, [1, 2, 3, 4, 5, 6, 7]);\n})\ntest('pair key to value object of an object (aka Object.entries)', t => {\n\tconst holder = {a: 1, b: 2, c: 3, d: 4};\n\tconst f = pairify(holder);\n\tconst data = Object.keys(holder).map(f);\n\tt.deepEqual(data, [['a', 1], ['b', 2], ['c', 3], ['d', 4]]);\n})\ntest('shallow equality test on object', t => {\n\tconst nested = {foo: 'bar'};\n\tconst obj1 = {a: 1, b: '2', c: true, d: nested};\n\tt.ok(isShallowEqual(obj1, {a: 1, b: '2', c: true, d: nested}));\n\tt.notOk(isShallowEqual(obj1, {\n\t\ta: 1,\n\t\tb: '2',\n\t\tc: true,\n\t\td: {foo: 'bar'}\n\t}), 'nested object should be checked by reference');\n\tt.notOk(isShallowEqual(obj1, {a: 1, b: 2, c: true, d: nested}), 'exact type checking on primitive');\n\tt.notOk(isShallowEqual(obj1, {a: 1, c: true, d: nested}), 'return false on missing properties');\n\tt.notOk(isShallowEqual({a: 1, c: true, d: nested}, obj1), 'return false on missing properties (commmutative');\n});\n","import test from 'zora';\nimport {h, withState, mount} from '../index';\nimport {waitNextTick} from './test-util';\n\ntest('bind an update function to a component', async t => {\n\tlet update = null;\n\tconst Comp = withState(({foo}, setState) => {\n\t\tif (!update) {\n\t\t\tupdate = setState;\n\t\t}\n\t\treturn <p>{foo}</p>;\n\t});\n\tconst container = document.createElement('div');\n\tmount(({foo}) => <Comp foo={foo}/>, {foo: 'bar'}, container);\n\tt.equal(container.innerHTML, '<p>bar</p>');\n\tawait waitNextTick();\n\tupdate({foo: 'bis'});\n\tt.equal(container.innerHTML, '<p>bis</p>');\n});\ntest('should create isolated state for each component', async t => {\n\tlet update1 = null;\n\tlet update2 = null;\n\tconst Comp = withState(({foo}, setState) => {\n\t\tif (!update1) {\n\t\t\tupdate1 = setState;\n\t\t} else if (!update2) {\n\t\t\tupdate2 = setState;\n\t\t}\n\n\t\treturn <p>{foo}</p>;\n\t});\n\tconst container = document.createElement('div');\n\tmount(({foo1, foo2}) => <div><Comp foo={foo1}/><Comp foo={foo2}/></div>, {foo1: 'bar', foo2: 'bar2'}, container);\n\tt.equal(container.innerHTML, '<div><p>bar</p><p>bar2</p></div>');\n\tawait waitNextTick();\n\tupdate1({foo: 'bis'});\n\tt.equal(container.innerHTML, '<div><p>bis</p><p>bar2</p></div>');\n\tupdate2({foo: 'blah'});\n\tt.equal(container.innerHTML, '<div><p>bis</p><p>blah</p></div>');\n});","import test from 'zora';\nimport {h} from '../index';\nimport renderAsString from '../lib/string-renderer';\n\ntest('render a simple component', t => {\n\tconst Comp = props => <h1><span id={props.id}>{props.greeting}</span></h1>;\n\tconst output = renderAsString(Comp, {id: 123, greeting: 'hello world'});\n\tt.equal(output, '<h1><span id=\"123\">hello world</span></h1>');\n});\n\ntest('render nested components', t => {\n\tconst Comp = props => <h1><span id={props.id}>{props.greeting}</span></h1>;\n\tconst Main = props => <main>\n\t\t<Comp id={123} greeting=\"Hello world\"/>\n\t\t<div><p>Some other content</p></div>\n\t</main>;\n\tconst output = renderAsString(Main, {});\n\tt.equal(output, `<main><h1><span id=\"123\">Hello world</span></h1><div><p>Some other content</p></div></main>`);\n});\n\ntest('should drop event listeners', t => {\n\tconst Comp = props => <button onClick={() => {console.log('foo')}}><span\n\t\tid={props.id}>{props.greeting}</span></button>;\n\tconst output = renderAsString(Comp, {id: 123, greeting: 'hello world'});\n\tt.equal(output, '<button><span id=\"123\">hello world</span></button>');\n});\n\ntest('should handle boolean attributes accordingly to html specification', t => {\n\tconst Comp = props => <details open={props.open}>\n\t\t<summary>Some details</summary>\n\t\t<p>Some details content</p></details>;\n\tconst openOutput = renderAsString(Comp, {open: true});\n\tt.equal(openOutput, '<details open><summary>Some details</summary><p>Some details content</p></details>');\n\tconst closeOutput = renderAsString(Comp, {open: false});\n\tt.equal(closeOutput, '<details><summary>Some details</summary><p>Some details content</p></details>');\n});\n\ntest('should prevent html injection', t => {\n\tconst Comp = props => <button id={props.id}>Hello world</button>;\n\tconst props = {\n\t\tid: '\"><script>console.log(\"owned\")</script>'\n\t};\n\tconst output = renderAsString(Comp, props);\n\tt.equal(output, `<button id=\"\\\"&gt;&lt;script&gt;console.log(\\\"owned\\\")&lt;/script&gt;\">Hello world</button>`)\n});"],"names":["exports","module","Object","keys","shim","obj","key","push","supportsArgumentsClass","prototype","toString","call","arguments","supported","unsupported","object","length","hasOwnProperty","propertyIsEnumerable","pSlice","Array","slice","deepEqual","actual","expected","opts","Date","getTime","strict","objEquiv","isUndefinedOrNull","value","undefined","isBuffer","x","copy","a","b","i","isArguments","ka","objectKeys","kb","e","sort","getAssertionLocation","err","Error","stack","split","trim","replace","assertMethodHook","fn","args","assertResult","pass","at","collect","Assertion","val","description","Boolean","func","caught","error","RegExp","test","message","String","constructor","assign","create","spec","task","tester","offset","buffer","type","data","result","count","done","createAssertion","item","collector","id","Symbol","asyncIterator","handleDelegate","delegate","next","executionTime","subTestAssertion","shift","unshift","instance","subTest","start","now","assertFn","assert","Promise","resolve","then","end","catch","print","log","padStart","toYaml","prop","entries","JSON","stringify","tap","yaml","version","comment","operator","label","printFn","reporter","toPrint","behavior","filter","predicate","iterator","map","mapFn","stream","combine","iterators","pending","current","flatten","tests","t","failure","outputStream","filterOutAtRootLevel","includes","window","addEventListener","createTextVNode","normalize","children","currentText","normalized","child","h","nodeType","props","flatChildren","c","isArray","normalizedChildren","fullProps","comp","compType","compose","first","fns","reduce","previous","curry","arityLeft","arity","argLength","moreArgs","arg","nextTick","setTimeout","pairify","holder","isShallowEqual","aKeys","bKeys","every","k","ownKeys","getOwnPropertyNames","isDeepEqual","typeB","identity","noop","SVG_NP","updateDomNodeFactory","method","items","domNode","pair","removeEventListeners","addEventListeners","setAttributes","attributes","removeAttribute","setAttribute","removeAttributes","attr","setTextNode","node","textContent","createDomNode","vnode","parent","document","createElementNS","createTextNode","namespaceURI","createElement","getEventListeners","substr","toLowerCase","traverse","updateEventListeners","newNodeProps","oldNodeProps","newNodeEvents","oldNodeEvents","updateAttributes","newVNode","oldVNode","newVNodeProps","oldVNodeProps","newNodeKeys","oldNodeKeys","attributesToRemove","domFactory","domify","oldVnode","newVnode","parentDomNode","dom","appendChild","lifeCycle","garbage","removeChild","replaceChild","onUnMount","render","onNextTick","g","tempOldNode","onUpdate","onMount","childrenCount","Math","max","setListeners","hydrate","hydrated","domChildren","from","childNodes","n","nodeValue","mount","initProp","root","batch","op","initialVNode","oldNode","parentNode","newNode","nextBatch","lifeCycleFactory","applyFn","defaultUpdate","store","sliceState","mapStateToProp","shouldUpate","componentProps","updateFunc","previousStateSlice","unsubscriber","wrapperComp","getState","subscribe","update","stateSlice","unsubscribe","freeGlobal","global","freeSelf","self","Function","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","overArg","transform","getPrototype","getPrototypeOf","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","symbolObservablePonyfill","observable","ponyfill","ActionTypes","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","index","indexOf","splice","dispatch","action","listeners","replaceReducer","nextReducer","INIT","_ref","outerSubscribe","observer","TypeError","observeState","$$observable","warning","console","isCrushed","name","waitNextTick","state","Comp","connect","container","equal","innerHTML","woot","other","valueBis","oldState","newState","domProto","event","handler","handlers","fakeDom","defineProperty","ownProps","ownProperties","d","foo","blah","bar","click","input","events","onClick","onMousedown","setState","setUpdateFunction","filterOutFunction","escapeHTML","s","join","childrenHtml","ch","class","combinator","counter","withMount","Combined","unmounted","Item","containerComp","f","notEqual","greeting","Container","content","initialVnode","tree","sequence","nested","obj1","ok","notOk","withState","update1","update2","foo1","foo2","output","renderAsString","Main","open","openOutput","closeOutput"],"mappings":"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"}